---
title: Ubuntu20.04相关
author: V2Less
date: '2020-04-27'
slug: ubuntu20-04相关
categories:
  - linux
tags:
  - linux
---

## 给snap包添加代理

[参考链接](https://blogs.gorquan.cn/2019/09/26/yuque/%E5%8A%A0%E9%80%9FUbuntu%E4%B8%8Bsnap%E4%B8%8B%E8%BD%BD%E9%80%9F%E5%BA%A6/)

编辑snap配置文件
`sudo systemctl edit snapd`
添加以下内容在文件中，然后保存
```bash
[Service]
Environment="http_proxy=http://127.0.0.1:1081"
Environment="https_proxy=http://127.0.0.1:1081"
```
重启snap服务
```bash
sudo systemctl daemon-reload
sudo systemctl restart snapd
```
然后进行安装VS Code:
```bash
sudo snap install --classic code
```

注：

`systemctl edit snapd` 默认使用的编辑器为Nano，如果需要切换为vim，请执行以下命令
`sudo update-alternatives --config editor`
然后输入编辑器的 Selection 并回车，即可更改
(编辑/etc/profile不能生效，使用select-editor亦不能生效的，可以试试这个方法）

## shell终端设置代理

### 设置代理
`nano setproxy.sh`
```bash
#! /bin/bash
export http_proxy=http://127.0.0.1:1081
export https_proxy=http://127.0.0.1:1081
```
执行：
`source setproxy.sh`

### 取消代理

`nano unsetproxy.sh`

```bash
#!/bin/bash
unset http_proxy
unset https_proxy
```
执行：
`source unsetproxy.sh`
